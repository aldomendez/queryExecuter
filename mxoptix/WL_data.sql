SELECT PACKAGE, cpw_lot, code,
--product, top, iop, wavelength, lfiber, test_runs, first_fail_mode, ref_cwl_0v, ref_pwr_0v,
--ROUND(((299972.458/ref_cwl_0v)*10)-1902,0) exp_channel,
--43 - Round((ref_cwl_0v - ((((2997924.58/((ROUND(((299972.458/Ref_cwl_0v)*10)-1902,0))+1900)) + (((95) - 85)*(4.634/1000))) - ((43 - 35)*0.08734)) - 0.09998))/0.08734,3) pkg_est_top_iop,
--Round((2997924.58/((ROUND(((299972.458/ref_cwl_0v)*10)-1902,0))+1900)),3) pkg_wl_tgt,
--ROUND(((299972.458/wavelength)*10)-1900,0) exp_channel2,
--43 - Round((wavelength - ((((2997924.58/((ROUND(((299972.458/wavelength)*10)-1900,0))+1900)) + (((IOP) - 85)*(4.634/1000))) - ((43 - TOP)*0.08734)) - 0.09998))/0.08734,3) pkg_est_top_iop2,
--Round((2997924.58/((ROUND(((299972.458/wavelength)*10)-1900,0))+1900)),3) pkg_wl_tgt2,
wl_adjusted osa_wl,
37.5 - Round((wl_adjusted - ((((2997924.58/((16)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_16_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((17)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_17_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((18)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_18_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((19)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_19_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((20)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_20_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((21)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_21_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((22)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_22_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((23)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_23_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((24)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_24_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((25)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_25_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((26)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_26_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((27)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_27_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((28)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_28_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((29)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_29_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((30)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_30_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((31)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_31_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((32)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_32_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((33)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_33_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((34)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_34_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((35)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_35_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((36)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_36_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((37)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_37_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((38)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_38_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((39)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_39_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((40)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_40_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((41)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_41_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((42)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_42_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((43)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_43_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((44)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_44_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((45)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_45_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((46)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_46_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((47)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_47_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((48)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_48_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((49)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_49_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((50)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_50_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((51)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_51_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((52)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_52_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((53)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_53_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((54)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_54_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((55)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_55_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((56)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_56_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((57)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_57_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((58)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_58_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((59)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_59_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((60)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_60_osa,
37.5 - Round((wl_adjusted - ((((2997924.58/((61)+1900)) + (((I_OP*1000) - 85)*(4.634/1000))) - ((37.5 - test_temp)*0.08734)) - 0.09998))/0.08734,3) pkg_top_61_osa,
Round((2997924.58/((ROUND(((299972.458/wl_adjusted)*10)-1900,0))+1900)),3) pkg_wl_osa
FROM
--dare_pkg.eml10gb_prod a,
ilm.bond@prodmx b, phase2.osa_functional_test c
WHERE PACKAGE IN(
SELECT job FROM apps.xxbi_cyp_wip_job_inv_v@osfm
WHERE department_code='ENG10GTO'
)         
--AND state='C'
--AND (wavelength IS NOT NULL AND wavelength > 0)
--AND device=package (+)
and laser=serial_num (+) 